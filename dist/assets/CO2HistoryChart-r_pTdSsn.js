import{r as y,a6 as h,m as f,Z as g,o as _,c as A,M as L,X as b}from"./index-sFYcR1XN.js";const I={title:{text:"气压数据",subtext:"12小时历史",left:"center"},tooltip:{trigger:"axis",axisPointer:{animation:!1}},legend:{top:"7%",data:["正气压","负气压"]},toolbox:{feature:{restore:{}}},axisPointer:{link:[{xAxisIndex:"all"}]},dataZoom:[{show:!0,start:30,end:70,xAxisIndex:[0,1]},{type:"inside",start:30,end:70,xAxisIndex:[0,1]}],grid:[{left:60,right:50,height:"35%"},{left:60,right:50,top:"55%",height:"35%"}],xAxis:[{type:"category",show:!0,boundaryGap:!1,axisLine:{onZero:!0},data:[]},{gridIndex:1,type:"category",boundaryGap:!1,axisLine:{onZero:!0},data:[],position:"top"}],yAxis:[{type:"value"},{gridIndex:1,type:"value",inverse:!0}],series:[{name:"正气压",type:"line",symbolSize:8,data:[],areaStyle:{}},{name:"负气压",type:"line",data:[],xAxisIndex:1,yAxisIndex:1,symbolSize:8,areaStyle:{}}]},w={class:"full",id:"ap-history"},D={__name:"APHistoryChart",setup(v){let l=I,d=y([]);const p=h(),s=(e,a)=>{try{L.post("online/range_query",{masterNum:"master01",sensorNum:["qy11"],time:p}).then(t=>{d.value=t.data,u(e,d.value,a)})}catch(t){console.error(t)}};function u(e,a,t){let r=a[0],o=[],c=[],i=[];for(let n of r)o.push(Math.abs(n.UAP)),c.push(Math.abs(n.DAP)),i.push(b(n.timest));t.xAxis[0].data=i,t.xAxis[1].data=i,t.series[0].data=o,t.series[1].data=c,e.setOption(t),e.hideLoading()}return f(()=>{let e=g("ap-history");e.showLoading(),s(e,l),window.addEventListener("resize",function(){e.resize()})}),(e,a)=>(_(),A("div",w))}},O={tooltip:{trigger:"axis"},title:{left:"center",text:"二氧化碳",subtext:"12小时历史"},legend:{data:[],top:"10%"},toolbox:{feature:{}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value",boundaryGap:[0,"100%"]},dataZoom:[{type:"inside",start:30,end:70},{start:30,end:70}],series:[]},H={class:"full",id:"co2-dom"},z={__name:"CO2HistoryChart",props:{co2Data:Array},setup(v){let l=y([]);const d=h(),p=async e=>{try{let a=["co211","co212","co213","co214","co215","co216","co217","co218"];L.post("online/range_query",{masterNum:"master01",sensorNum:a,time:d}).then(t=>{l.value=t.data,u(e,l.value)})}catch(a){console.error(a)}};let s=O;function u(e,a){s.series=[],s.xAxis.data=[];let t=[];for(let r=0;r<a.length;r++){let o={name:"",type:"line",symbol:"none",data:[]},c=a[r],i=[],n=[];for(let m of c)i.push(m.CO2),n.push(b(m.timest));o.data=i;let x="从站 0"+(r+1)+" CO2";t.push(x),o.name=x,o.data=i,s.xAxis.data=n,s.series.push(o)}s.legend.data=t,e.setOption(s),e.hideLoading()}return f(()=>{let e=g("co2-dom");p(e),e.showLoading(),window.addEventListener("resize",function(){e.resize()})}),(e,a)=>(_(),A("div",H))}};export{z as _,D as a};
